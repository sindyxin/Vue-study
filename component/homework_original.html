<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="../css/bootstrap.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="../js/bootstrap.min.js"></script>
  <script src="../vue.js"></script>
  <title>Document</title>
</head>

<body>

  <div class="alert alert-secondary">
    <h1 class="mt-0 text-muted">作業練習：元件變換</h1>

    <h3>模板練習作業：Ajax 資料內容呈現</h3>
    <p>本作業一定要用到元件。</p>
    <p>提示：</p>
    <ol class="mb-0">
      <li>將資料內容透過 "元件" 呈現</li>
      <li>製作城市過濾選項</li>
      <li>將內層資料透過 emit 傳遞到外層 (作為另一個關注城市的呈現)</li>
      <li>依據不同污染呈現不同色彩</li>
      <li>加分題：透過 localStorage 儲存上次關注的城市</li>
    </ol>
    <div id="app">
      <select name="" id="" class="form-control mb-3">
        <option value="">--- 請選擇城市 ---</option>
      </select>
      <div>
        <h4>關注城市</h4>
        <div class="card-columns">
          <div class="card status-aqi2">
            <div class="card-header">苗栗縣 - 三義
              <a href="#" class="float-right">
                <i class="fas fa-star"></i>
              </a>
            </div>
            <div class="card-body">
              <ul class="list-unstyled">
                <li>AQI 指數: 54</li>
                <li>PM2.5: 8</li>
                <li>說明: 普通</li>
              </ul>
              2018-05-20 16:00
            </div>
          </div>
        </div>
      </div>

      <hr>
      <div class="card-columns">
        <div class="card status-aqi2">
          <div class="card-header">苗栗縣 - 三義
            <a href="#" class="float-right">
              <i class="far fa-star"></i>
            </a>
          </div>
          <div class="card-body">
            <ul class="list-unstyled">
              <li>AQI 指數: 54</li>
              <li>PM2.5: 8</li>
              <li>說明: 普通</li>
            </ul>
            2018-05-20 16:00
          </div>
        </div>
      </div>
    </div>

    <script>
      // API 來源
      // https://opendata.epa.gov.tw/Data/Contents/AQI/

      var app = new Vue({
        el: '#app',
        data: {
          data: [],
          location: [],
          stared: [],
          filter: '',
        },
        // 請在此撰寫 JavaScript
        methods: {
          getData() {
            const vm = this;
            const api = 'http://opendata2.epa.gov.tw/AQI.json';

            // 使用 jQuery ajax
            $.get(api).then(function (response) {
              vm.data = response;
              console.log(response)
            });
          },
        }
      });
    </script>
    <!-- 
狀態對應表
'良好',
'status-aqi2' '普通',
'status-aqi3' '對敏感族群不健康',
'status-aqi4' '對所有族群不健康',
'status-aqi5' '非常不健康',
'status-aqi6' '危害'
-->
    <style>
      .status-aqi2 {
        background-color: #ffff00;
      }

      .status-aqi3 {
        background-color: #ff7e00;
      }

      .status-aqi4 {
        background-color: #ff0000;
      }

      .status-aqi5 {
        background-color: #8f3f97;
      }

      .status-aqi6 {
        background-color: #7e0023;
      }
    </style>


  </div>
</body>

</html>